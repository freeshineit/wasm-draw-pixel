(()=>{"use strict";var e,t,n,r,o,a,i={604:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(645),o=n.n(r),a=n(667),i=n.n(a),s=n(25),c=o()(!1),l=i()(s.Z);c.push([e.id,"*{padding:0;margin:0;box-sizing:border-box}body{background:#fff}.container{min-height:100vh;display:flex;justify-content:center;align-items:center;flex-direction:column;padding-right:120px}canvas.eraser{cursor:url("+l+"),auto}.sider{position:fixed;bottom:0;right:0;top:0;width:120px;box-shadow:-2px 0px 5px #ddd;background-color:#fff;padding:5px 10px;z-index:999}.sider .btn-group{padding:10px 0;display:flex;flex-direction:column;align-items:center}.sider .btn-group input[type=color]{width:80px}.sider .btn-group>span{padding:3px 0px;display:inline-block;user-select:none;cursor:pointer;display:flex;justify-content:center}.sider .btn-group>span+span{margin-top:6px}.sider .btn-group>span:hover{color:#0099e5}.sider .btn-group>button{padding:3px 5px;cursor:pointer;border:1px solid #aaa;border-radius:0px;color:#000;background-color:#fff;width:100%}.sider .btn-group>button:hover{border:1px solid #0099e5;color:#0099e5}.sider .btn-group>button+button{margin-top:10px}.sider #eraser.active{color:#0099e5}.sider .btn-group>label{display:flex}.sider .btn-group>label+label{margin-top:10px}.sider .btn-group>label input{width:55px}",""]);const d=c},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r,o,a=e[1]||"",i=e[3];if(!i)return a;if(t&&"function"==typeof btoa){var s=(n=i,r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(o," */")),c=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[a].concat(c).concat([s]).join("\n")}return[a].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(o[i]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);r&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},667:e=>{e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},i=[],s=0;s<e.length;s++){var c=e[s],l=r.base?c[0]+r.base:c[0],d=a[l]||0,u="".concat(l," ").concat(d);a[l]=d+1;var p=n(u),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var m=o(f,r);r.byIndex=s,t.splice(s,0,{identifier:u,updater:m,references:1})}i.push(u)}return i}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var s=n(a[i]);t[s].references--}for(var c=r(e,o),l=0;l<a.length;l++){var d=n(a[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}a=c}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},25:(e,t,n)=>{n.d(t,{Z:()=>r});const r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAMhJREFUOE+90zFqAkEYhuHHK3gLbfUCggfwFFbpvECEgI2lCHamsDFewC4H0DJnSRkZ2F+G2XWXIDiwzLDs+/LNtzM9T47ek7yXCObYYYLvMnFXgoDH+MQC51zSJsjhK4Y4Yo19SB4JSji+D8kBq/SySfAIDskIl2BLQRccCb6wLBME/IMT3ovGa3Ap+ENq+7cqK5cEXBPnW/jADFP0K0mKmp7UflOqWokheavib6o5wfkhuq+b/sIWg5Y7ksprFfzrfnUd5U7ZDRl0KhHByHKKAAAAAElFTkSuQmCC"}},s={};function c(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={id:e,loaded:!1,exports:{}};return i[e](n,n.exports,c),n.loaded=!0,n.exports}c.m=i,e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=e=>{e&&!e.d&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},c.a=(o,a,i)=>{var s;i&&((s=[]).d=1);var c,l,d,u=new Set,p=o.exports,f=new Promise(((e,t)=>{d=t,l=e}));f[t]=p,f[e]=e=>(s&&e(s),u.forEach(e),f.catch((e=>{}))),o.exports=f,a((o=>{var a;c=(o=>o.map((o=>{if(null!==o&&"object"==typeof o){if(o[e])return o;if(o.then){var a=[];a.d=0,o.then((e=>{i[t]=e,r(a)}),(e=>{i[n]=e,r(a)}));var i={};return i[e]=e=>e(a),i}}var s={};return s[e]=e=>{},s[t]=o,s})))(o);var i=()=>c.map((e=>{if(e[n])throw e[n];return e[t]})),l=new Promise((t=>{(a=()=>t(i)).r=0;var n=e=>e!==s&&!u.has(e)&&(u.add(e),e&&!e.d&&(a.r++,e.push(a)));c.map((t=>t[e](n)))}));return a.r?l:i()}),(e=>(e?d(f[n]=e):l(p),r(s)))),s&&(s.d=0)},c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.f={},c.e=e=>Promise.all(Object.keys(c.f).reduce(((t,n)=>(c.f[n](e,t),t)),[])),c.u=e=>e+".index.js",c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o={},a="wasm_draw_pixel:",c.l=(e,t,n,r)=>{if(o[e])o[e].push(t);else{var i,s;if(void 0!==n)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var u=l[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==a+n){i=u;break}}i||(s=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,c.nc&&i.setAttribute("nonce",c.nc),i.setAttribute("data-webpack",a+n),i.src=e),o[e]=[t];var p=(t,n)=>{i.onerror=i.onload=null,clearTimeout(f);var r=o[e];if(delete o[e],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((e=>e(n))),t)return t(n)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),s&&document.head.appendChild(i)}},c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.v=(e,t,n,r)=>{var o=fetch(c.p+"index.wasm");return"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(o,r).then((t=>Object.assign(e,t.instance.exports))):o.then((e=>e.arrayBuffer())).then((e=>WebAssembly.instantiate(e,r))).then((t=>Object.assign(e,t.instance.exports)))},(()=>{var e;c.g.importScripts&&(e=c.g.location+"");var t=c.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),c.p=e})(),(()=>{var e={179:0};c.f.j=(t,n)=>{var r=c.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=o);var a=c.p+c.u(t),i=new Error;c.l(a,(n=>{if(c.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",i.name="ChunkLoadError",i.type=o,i.request=a,r[1](i)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,o,[a,i,s]=n,l=0;if(a.some((t=>0!==e[t]))){for(r in i)c.o(i,r)&&(c.m[r]=i[r]);s&&s(c)}for(t&&t(n);l<a.length;l++)o=a[l],c.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunkwasm_draw_pixel=self.webpackChunkwasm_draw_pixel||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),c.nc=void 0,(()=>{var e=c(379),t=c.n(e),n=c(795),r=c.n(n),o=c(569),a=c.n(o),i=c(565),s=c.n(i),l=c(216),d=c.n(l),u=c(589),p=c.n(u),f=c(604),m={};m.styleTagTransform=p(),m.setAttributes=s(),m.insert=a().bind(null,"head"),m.domAPI=r(),m.insertStyleElement=d(),t()(f.Z,m),f.Z&&f.Z.locals&&f.Z.locals;var g=30;function v(e){var t=document.getElementById("canvas").getContext("2d");t.strokeStyle="black",t.lineWidth=1;for(var n=e.internal.image(),r=n.width(),o=n.height(),a=n.cells(),i=0;i<r;i++)for(var s=0;s<o;s++){var c=3*(s*r+i),l="rgb(".concat(a[c+0],", ").concat(a[c+1],", ").concat(a[c+2],")");t.fillStyle=l,t.fillRect(i*g,s*g,g,g)}for(i=0;i<=o;i++)t.beginPath(),t.moveTo(0,i*g+(i==o?-1:1)),t.lineTo(r*g,i*g+(i==o?-1:1)),t.stroke();for(s=0;s<=r;s++)t.beginPath(),t.moveTo(s*g+(s==r?-1:1),0),t.lineTo(s*g+(s==r?-1:1),o*g),t.stroke()}function h(e,t){var n=document.createElement("canvas"),r=n.getContext("2d");console.time("downloadImage");var o=t.width(),a=t.height(),i=t.cells();n.width=1200,n.height=1200,n.style.height="600px",n.style.width="600px",n.style.display="none";for(var s=0;s<o;s++)for(var c=0;c<a;c++){var l=3*(c*o+s),d="rgb(".concat(i[l+0],", ").concat(i[l+1],", ").concat(i[l+2],")");r.fillStyle=d,r.fillRect(s*g,c*g,g,g)}for(var u=r.getImageData(0,0,1200,1200),p=u.data,f=p.length,m=0;m<f;)255===p[m]&&255===p[m+1]&&255===p[m+2]&&"image/png"===e&&(p[m+3]=0),m+=4;r.putImageData(u,0,0),console.timeEnd("downloadImage");var v=document.createElement("a");v.href=n.toDataURL(e,1),v.download="pixel";var h=new MouseEvent("click");v.dispatchEvent(h)}c.e(278).then(c.bind(c,278)).then((function(e){var t;v(t={internal:new e.InternalState(40,40),currentColor:[0,0,0],dragging:!1,eraserColor:[]}),function(e){var t=document.getElementById("canvas");t.addEventListener("mousedown",(function(){e.dragging=!0}),!1),t.addEventListener("mouseup",(function(){e.dragging=!1}),!1),t.addEventListener("mousemove",(function(n){var r;if(e.dragging){var o=t.getBoundingClientRect(),a=n.clientX-o.left,i=n.clientY-o.top;a=(a=Math.floor(2*a/g))>=0?a:0,i=(i=Math.floor(2*i/g))>=0?i:0;var s=(null===(r=e.eraserColor)||void 0===r?void 0:r.length)>0?e.eraserColor:e.currentColor;e.internal.brush(a,i,s),v(e)}}),!1),document.getElementById("color").addEventListener("change",(function(t){var n;e.currentColor=function(e){var t=e;if(t&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t)){if(4===t.length){for(var n="#",r=1;r<4;r+=1)n+=t.slice(r,r+1).concat(t.slice(r,r+1));t=n}var o=[];for(r=1;r<7;r+=2)o.push(parseInt("0x"+t.slice(r,r+2)));return o}}(null===(n=t.target)||void 0===n?void 0:n.value),function(e){var t=document.getElementById("canvas");t.classList.contains("eraser")&&t.classList.remove("eraser"),e.eraserColor=[]}(e)}),!1),document.getElementById("eraser").addEventListener("click",(function(){!function(e){var t=document.getElementById("canvas");t.classList.contains("eraser")?(t.classList.remove("eraser"),e.eraserColor=[]):(t.classList.add("eraser"),e.eraserColor=[255,255,255]);var n=document.getElementById("eraser");n.classList.contains("active")?n.classList.remove("active"):n.classList.add("active")}(e)}),!1),document.getElementById("undo").addEventListener("click",(function(){e.internal.undo(),v(e)}),!1),document.getElementById("redo").addEventListener("click",(function(){e.internal.redo(),v(e)}),!1),document.getElementById("clear").addEventListener("click",(function(){e.internal.clear(),v(e)}),!1),document.getElementById("downloadPng").addEventListener("click",(function(){h("image/png",e.internal.image())}),!1),document.getElementById("downloadJpeg").addEventListener("click",(function(){h("image/jpeg",e.internal.image())}),!1)}(t)}))})()})();